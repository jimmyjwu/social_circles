from django.http import HttpResponse
import facebook

def index(request):
	# Temporary access access_token generated by Facebook's Graph API Explorer
	access_token = 'CAACEdEose0cBAM3VoDKu50jgyHErRbMYINuiSa0SZCgbPSgocEKdH5bim1pD1uwP6G1B4WU5B7OPuRlCKGdKjjs4Hd2QCI4M8ZByCZBBVHmfPL9APnlaXcNZAWKaJwjg4ygjYhaWqo5yhrN2ewt2Kygh7fu2ZAB6Va0arL8OOkcuYHHurs077gWQYHpj2tXAZD'

	graph = facebook.GraphAPI(access_token)
	profile = graph.get_object("me")
	friends_data = graph.get_connections("me", "friends")['data']

	# Extract names from list of raw friend data
	friends = [friend_data['name'] for friend_data in friends_data]
	return HttpResponse(friends)